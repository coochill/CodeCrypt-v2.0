@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ------------------------------ */
/*            BASE                */
/* ------------------------------ */
@layer base {
  body {
    font-family: 'Poppins', theme('fontFamily.sans');
    @apply bg-white text-gray-900 antialiased overflow-x-hidden; /* remove horizontal scroll */
  }
}

/* ------------------------------ */
/*          COMPONENTS            */
/* ------------------------------ */
@layer components {
  /* BUTTONS */
  .btn {
    @apply inline-flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none;
  }

  .btn-primary {
    @apply btn bg-blue-600 text-white hover:bg-blue-700 hover:shadow-md px-6 py-2.5;
  }

  .btn-secondary {
    @apply btn bg-gray-100 text-gray-700 hover:bg-gray-200 hover:shadow-sm border border-gray-200 px-6 py-2.5;
  }

  .btn-danger {
    @apply btn bg-red-600 text-white hover:bg-red-700 hover:shadow-md px-6 py-2.5;
  }

  /* INPUTS */
  .input {
    @apply flex h-11 w-full rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:border-blue-500 transition-all duration-200 disabled:cursor-not-allowed disabled:opacity-50;
  }

  /* CARDS */
  .card {
    @apply rounded-xl border border-gray-200 bg-white shadow-sm hover:shadow-lg transition-all duration-300;
  }

  .card-content {
    @apply p-6 pt-0;
  }

  /* CIPHER OUTPUT */
  .cipher-output {
    @apply font-mono text-sm bg-gray-50 p-4 rounded-lg border border-gray-200 min-h-[120px] whitespace-pre-wrap break-all resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200;
    overflow: hidden; /* remove scrollbars */
  }

  /* CUSTOM SCROLLBAR (if needed) */
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.3);
    border-radius: 3px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.5);
  }

  /* TEXT UTILITIES */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .gradient-text {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* ------------------------------- */
  /*         LEGACY AESTHETIC       */
  /* ------------------------------- */
  :root {
    --legacy-primary: #005bea;
    --legacy-primary-dark: #0047b8;
    --legacy-accent: #2c3e50;
  }

  /* ------------------------------- */
  /*         LEGACY SIDEBAR          */
  /* ------------------------------- */
  .legacy-sidebar {
    position: sticky;
    display: flex;
    flex-direction: column;
    height: 100vh;
    color: #fff;
    background: var(--legacy-primary);
    border-radius: 0 20px 20px 0;
    width: 260px;
   
    transition: all .3s ease-in-out;
    overflow: hidden;
    top: 0;
    align-self: flex-start;
    z-index: 50;
  }

  .legacy-sidebar.narrow {
    width: 80px;
  }

  .legacy-sidebar-toggle {
    position: absolute;
    top: 1.25rem;
    right: 0.2rem;
    width: 1.75rem;
    height: 1.75rem;
    border-radius: 9999px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: #fff;
    font-size: 1.5rem;
    font-weight: 800;
    z-index: 999;
    transition: all 0.3s ease;
  }

  .legacy-sidebar.narrow .legacy-sidebar-toggle {
    left: 50%;
    right: auto;
    transform: translateX(-50%);
  }

  .legacy-nav-list {
    flex: 1;
    overflow: hidden;
    padding: 1rem 0 0.5rem 0;
    margin-left: 1rem;
    justify-content: center;
  }

  .legacy-nav-item {
    display: flex;
    align-items: center;
    height: 2.5rem;
    margin-bottom: 0.25rem;
    border-top-left-radius: 0.75rem;
    border-bottom-left-radius: 0.75rem;
    font-size: 0.85rem;
    font-weight: 500;
    cursor: pointer;
    user-select: none;
    color: #ffffff;
    transition: background-color .2s, color .2s;
  }

  .legacy-sidebar.narrow .legacy-nav-item {
    justify-content: center;
    padding-left: 0;
    padding-right: 0;
  }

  .legacy-nav-icon {
    width: 1.75rem;
    font-size: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-left: 1rem;
  }

  .legacy-sidebar.narrow .legacy-nav-icon {
    margin-left: 0;
  }

  .legacy-nav-label {
    white-space: nowrap;
    margin-left: 0.25rem;
    transition: opacity .25s;
  }

  .legacy-sidebar.narrow .legacy-nav-label {
    display: none;
  }

  .legacy-nav-item.active {
    background: #fff;
    color: var(--legacy-primary);
 
  }

  .legacy-nav-item:not(.active):hover {
    background: transparent;
    color: inherit;
  }

  .legacy-highlight {
    position: absolute;
    left: 0;
    width: 100%;
    height: 48px;
    pointer-events: none;
    transition: all .3s ease-in-out;
  }

  .legacy-highlight:before,
  .legacy-highlight:after {
    content: "";
    position: absolute;
    right: 0;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: #fff;
  }

  .legacy-highlight:before { top: -32px; box-shadow: 16px 16px #fff; }
  .legacy-highlight:after { bottom: -32px; box-shadow: 16px -16px #fff; }

  /* ------------------------------- */
  /*        LEGACY CARD GRID         */
  /* ------------------------------- */
  .legacy-card-grid {
    display: grid;
    padding: 0;   
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  }

  .legacy-card {
    position: relative;
    display: flex;
    align-items: center;
    padding: 1rem;
    border-radius: 0.75rem;
    border: 1px solid var(--legacy-primary);
    background: #fff;
    overflow: hidden;
    cursor: pointer;
    transition: transform .3s ease;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    transform: scale(0.9); /* Zoom out */
  }

  .legacy-card:hover {
    transform: scale(0.92) translateY(-0.25rem);
  }

  .legacy-card-icon { font-size: 48px; margin-right: 1rem; color: var(--legacy-primary); position: relative; z-index: 10; }
  .legacy-card-content { position: relative; z-index: 10; }
  .legacy-card-title { font-size: 1.25rem; font-weight: 600; margin-bottom: 0.25rem; color: var(--legacy-primary); }
  .legacy-card-desc { font-size: 0.875rem; color: var(--legacy-primary); opacity: 100; }

  /* ------------------------------- */
  /*           SECTION LABEL         */
  /* ------------------------------- */
  .legacy-section-title {
    display: inline-block;
    background: var(--legacy-primary);
    color: #fff;
    padding: 0.75rem 2rem;
    border-radius: 9999px;
    font-size: 1.5rem;
    font-weight: 600;
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  }

  /* ------------------------------- */
  /*           MOBILE RULES          */
  /* ------------------------------- */
  @media (max-width: 768px) {
    .legacy-sidebar, .legacy-nav-item, .legacy-nav-label, .legacy-highlight {
      transition: none !important;
    }
  }

  @media (max-width: 420px) {
    .legacy-sidebar { width: 80px; }
    .legacy-sidebar-toggle { display: none; }
    .legacy-nav-item { justify-content: center; padding-left: 0.5rem; padding-right: 0.5rem; }
    .legacy-nav-label { display: none; }
  }

  /* ------------------------------- */
  /*     CONTENT ALIGNMENT FIXES     */
  /* ------------------------------- */
  .legacy-sidebar + .flex-1 { position: relative; z-index: 20; transition: padding-left .25s ease; }
  .legacy-sidebar.narrow { position: fixed; left: 0; top: 0; height: 100vh; width: 80px; z-index: 80; pointer-events: none; }
  .legacy-sidebar.narrow + .flex-1 { padding-left: 256px; }
  .legacy-sidebar.narrow .legacy-nav-item,
  .legacy-sidebar.narrow .legacy-sidebar-toggle,
  .legacy-sidebar.narrow a,
  .legacy-sidebar.narrow button { pointer-events: auto; }
}
